{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\irajc\\\\charting-platform\\\\src\\\\components\\\\LightweightChart.tsx\",\n  _s = $RefreshSig$();\n// src/components/LightweightChart.tsx\nimport React, { useEffect, useRef } from 'react';\nimport { createChart } from 'lightweight-charts';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst LightweightChart = ({\n  data,\n  overlays\n}) => {\n  _s();\n  const chartContainerRef = useRef(null);\n  const chartRef = useRef(null);\n  useEffect(() => {\n    if (!chartContainerRef.current) return;\n\n    // Destroy previous chart if exists\n    if (chartRef.current) {\n      chartRef.current.remove();\n    }\n    const chart = createChart(chartContainerRef.current, {\n      width: chartContainerRef.current.clientWidth,\n      height: 400,\n      layout: {\n        background: {\n          color: '#ffffff'\n        },\n        textColor: '#000'\n      },\n      grid: {\n        vertLines: {\n          color: '#eee'\n        },\n        horzLines: {\n          color: '#eee'\n        }\n      }\n    });\n    const lineSeries = chart.addLineSeries();\n    lineSeries.setData(data);\n\n    // Example overlays\n    if (overlays !== null && overlays !== void 0 && overlays.vwap) {\n      // Add VWAP overlay logic here\n    }\n    if (overlays !== null && overlays !== void 0 && overlays.sessionZones) {\n      // Add session zone shading logic here\n    }\n    if (overlays !== null && overlays !== void 0 && overlays.triggers) {\n      overlays.triggers.forEach(trigger => {\n        lineSeries.setMarkers([{\n          time: trigger.timeBlock,\n          position: 'aboveBar',\n          color: 'red',\n          shape: 'arrowDown',\n          text: trigger.iccTags.join(',')\n        }]);\n      });\n    }\n    chartRef.current = chart;\n    return () => chart.remove();\n  }, [data, overlays]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    ref: chartContainerRef,\n    style: {\n      width: '100%',\n      height: '400px'\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 10\n  }, this);\n};\n_s(LightweightChart, \"2rN9armGVJ1f+QeW0pB7tlSVqXQ=\");\n_c = LightweightChart;\nexport default LightweightChart;\nvar _c;\n$RefreshReg$(_c, \"LightweightChart\");","map":{"version":3,"names":["React","useEffect","useRef","createChart","jsxDEV","_jsxDEV","LightweightChart","data","overlays","_s","chartContainerRef","chartRef","current","remove","chart","width","clientWidth","height","layout","background","color","textColor","grid","vertLines","horzLines","lineSeries","addLineSeries","setData","vwap","sessionZones","triggers","forEach","trigger","setMarkers","time","timeBlock","position","shape","text","iccTags","join","ref","style","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/irajc/charting-platform/src/components/LightweightChart.tsx"],"sourcesContent":["// src/components/LightweightChart.tsx\r\nimport React, { useEffect, useRef } from 'react';\r\nimport { createChart, IChartApi } from 'lightweight-charts';\r\nimport type { ICCSetup } from '../types/ICC';\r\n\r\ninterface LightweightChartProps {\r\n  data: { time: string | number; value: number }[];\r\n  overlays?: {\r\n    vwap?: boolean;\r\n    sessionZones?: boolean;\r\n    triggers?: ICCSetup[];\r\n  };\r\n}\r\n\r\nconst LightweightChart: React.FC<LightweightChartProps> = ({ data, overlays }) => {\r\n  const chartContainerRef = useRef<HTMLDivElement>(null);\r\n  const chartRef = useRef<IChartApi | null>(null);\r\n\r\n  useEffect(() => {\r\n    if (!chartContainerRef.current) return;\r\n\r\n    // Destroy previous chart if exists\r\n    if (chartRef.current) {\r\n      chartRef.current.remove();\r\n    }\r\n\r\n    const chart = createChart(chartContainerRef.current, {\r\n      width: chartContainerRef.current.clientWidth,\r\n      height: 400,\r\n      layout: { background: { color: '#ffffff' }, textColor: '#000' },\r\n      grid: { vertLines: { color: '#eee' }, horzLines: { color: '#eee' } },\r\n    });\r\n\r\n    const lineSeries = chart.addLineSeries();\r\n    lineSeries.setData(data);\r\n\r\n    // Example overlays\r\n    if (overlays?.vwap) {\r\n      // Add VWAP overlay logic here\r\n    }\r\n    if (overlays?.sessionZones) {\r\n      // Add session zone shading logic here\r\n    }\r\n    if (overlays?.triggers) {\r\n      overlays.triggers.forEach(trigger => {\r\n        lineSeries.setMarkers([\r\n          {\r\n            time: trigger.timeBlock,\r\n            position: 'aboveBar',\r\n            color: 'red',\r\n            shape: 'arrowDown',\r\n            text: trigger.iccTags.join(','),\r\n          },\r\n        ]);\r\n      });\r\n    }\r\n\r\n    chartRef.current = chart;\r\n    return () => chart.remove();\r\n  }, [data, overlays]);\r\n\r\n  return <div ref={chartContainerRef} style={{ width: '100%', height: '400px' }} />;\r\n};\r\n\r\nexport default LightweightChart;"],"mappings":";;AAAA;AACA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,MAAM,QAAQ,OAAO;AAChD,SAASC,WAAW,QAAmB,oBAAoB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAY5D,MAAMC,gBAAiD,GAAGA,CAAC;EAAEC,IAAI;EAAEC;AAAS,CAAC,KAAK;EAAAC,EAAA;EAChF,MAAMC,iBAAiB,GAAGR,MAAM,CAAiB,IAAI,CAAC;EACtD,MAAMS,QAAQ,GAAGT,MAAM,CAAmB,IAAI,CAAC;EAE/CD,SAAS,CAAC,MAAM;IACd,IAAI,CAACS,iBAAiB,CAACE,OAAO,EAAE;;IAEhC;IACA,IAAID,QAAQ,CAACC,OAAO,EAAE;MACpBD,QAAQ,CAACC,OAAO,CAACC,MAAM,CAAC,CAAC;IAC3B;IAEA,MAAMC,KAAK,GAAGX,WAAW,CAACO,iBAAiB,CAACE,OAAO,EAAE;MACnDG,KAAK,EAAEL,iBAAiB,CAACE,OAAO,CAACI,WAAW;MAC5CC,MAAM,EAAE,GAAG;MACXC,MAAM,EAAE;QAAEC,UAAU,EAAE;UAAEC,KAAK,EAAE;QAAU,CAAC;QAAEC,SAAS,EAAE;MAAO,CAAC;MAC/DC,IAAI,EAAE;QAAEC,SAAS,EAAE;UAAEH,KAAK,EAAE;QAAO,CAAC;QAAEI,SAAS,EAAE;UAAEJ,KAAK,EAAE;QAAO;MAAE;IACrE,CAAC,CAAC;IAEF,MAAMK,UAAU,GAAGX,KAAK,CAACY,aAAa,CAAC,CAAC;IACxCD,UAAU,CAACE,OAAO,CAACpB,IAAI,CAAC;;IAExB;IACA,IAAIC,QAAQ,aAARA,QAAQ,eAARA,QAAQ,CAAEoB,IAAI,EAAE;MAClB;IAAA;IAEF,IAAIpB,QAAQ,aAARA,QAAQ,eAARA,QAAQ,CAAEqB,YAAY,EAAE;MAC1B;IAAA;IAEF,IAAIrB,QAAQ,aAARA,QAAQ,eAARA,QAAQ,CAAEsB,QAAQ,EAAE;MACtBtB,QAAQ,CAACsB,QAAQ,CAACC,OAAO,CAACC,OAAO,IAAI;QACnCP,UAAU,CAACQ,UAAU,CAAC,CACpB;UACEC,IAAI,EAAEF,OAAO,CAACG,SAAS;UACvBC,QAAQ,EAAE,UAAU;UACpBhB,KAAK,EAAE,KAAK;UACZiB,KAAK,EAAE,WAAW;UAClBC,IAAI,EAAEN,OAAO,CAACO,OAAO,CAACC,IAAI,CAAC,GAAG;QAChC,CAAC,CACF,CAAC;MACJ,CAAC,CAAC;IACJ;IAEA7B,QAAQ,CAACC,OAAO,GAAGE,KAAK;IACxB,OAAO,MAAMA,KAAK,CAACD,MAAM,CAAC,CAAC;EAC7B,CAAC,EAAE,CAACN,IAAI,EAAEC,QAAQ,CAAC,CAAC;EAEpB,oBAAOH,OAAA;IAAKoC,GAAG,EAAE/B,iBAAkB;IAACgC,KAAK,EAAE;MAAE3B,KAAK,EAAE,MAAM;MAAEE,MAAM,EAAE;IAAQ;EAAE;IAAA0B,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAE,CAAC;AACnF,CAAC;AAACrC,EAAA,CAhDIH,gBAAiD;AAAAyC,EAAA,GAAjDzC,gBAAiD;AAkDvD,eAAeA,gBAAgB;AAAC,IAAAyC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}