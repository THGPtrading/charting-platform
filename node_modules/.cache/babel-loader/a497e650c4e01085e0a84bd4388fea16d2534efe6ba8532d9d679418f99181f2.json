{"ast":null,"code":"const STORAGE_KEY = 'iccSetups';\nconst loadSetups = () => {\n  const raw = localStorage.getItem(STORAGE_KEY);\n  return raw ? JSON.parse(raw) : [];\n};\nconst saveSetups = setups => {\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(setups));\n};\nexport const logSetup = setup => {\n  const current = loadSetups();\n  const updated = [...current, setup];\n  saveSetups(updated);\n};\nexport const getSetupLog = () => {\n  return loadSetups();\n};\nexport const clearSetupLog = () => {\n  localStorage.removeItem(STORAGE_KEY);\n};\nexport const exportSetupLogCSV = (entries = getSetupLog()) => {\n  const headers = ['Symbol', 'Timeframe', 'ICC Tags', 'PriceAtTrigger', 'Outcome', 'TimeBlock', 'Bot', 'Dashboard'];\n  const rows = entries.map(setup => {\n    var _setup$bot;\n    return [setup.symbol, setup.timeframe, setup.iccTags.join('|'), setup.priceAtTrigger, setup.outcome, setup.timeBlock, (_setup$bot = setup.bot) !== null && _setup$bot !== void 0 ? _setup$bot : '', setup.dashboard];\n  });\n  return [headers, ...rows].map(row => row.map(field => `\"${String(field)}\"`).join(',')).join('\\n');\n};\nexport const exportSetupLogJSON = (entries = getSetupLog()) => {\n  return JSON.stringify(entries, null, 2);\n};","map":{"version":3,"names":["STORAGE_KEY","loadSetups","raw","localStorage","getItem","JSON","parse","saveSetups","setups","setItem","stringify","logSetup","setup","current","updated","getSetupLog","clearSetupLog","removeItem","exportSetupLogCSV","entries","headers","rows","map","_setup$bot","symbol","timeframe","iccTags","join","priceAtTrigger","outcome","timeBlock","bot","dashboard","row","field","String","exportSetupLogJSON"],"sources":["C:/Users/irajc/charting-platform/src/alerts/setupLogger.ts"],"sourcesContent":["import type { ICCSetup } from '../types/ICC';\r\n\r\nconst STORAGE_KEY = 'iccSetups';\r\n\r\nconst loadSetups = (): ICCSetup[] => {\r\n  const raw = localStorage.getItem(STORAGE_KEY);\r\n  return raw ? JSON.parse(raw) : [];\r\n};\r\n\r\nconst saveSetups = (setups: ICCSetup[]): void => {\r\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(setups));\r\n};\r\n\r\nexport const logSetup = (setup: ICCSetup): void => {\r\n  const current = loadSetups();\r\n  const updated = [...current, setup];\r\n  saveSetups(updated);\r\n};\r\n\r\nexport const getSetupLog = (): ICCSetup[] => {\r\n  return loadSetups();\r\n};\r\n\r\nexport const clearSetupLog = (): void => {\r\n  localStorage.removeItem(STORAGE_KEY);\r\n};\r\n\r\nexport const exportSetupLogCSV = (entries: ICCSetup[] = getSetupLog()): string => {\r\n  const headers = [\r\n    'Symbol','Timeframe','ICC Tags','PriceAtTrigger','Outcome',\r\n    'TimeBlock','Bot','Dashboard'\r\n  ];\r\n\r\n  const rows = entries.map(setup => [\r\n    setup.symbol,\r\n    setup.timeframe,\r\n    setup.iccTags.join('|'),\r\n    setup.priceAtTrigger,\r\n    setup.outcome,\r\n    setup.timeBlock,\r\n    setup.bot ?? '',\r\n    setup.dashboard,\r\n  ]);\r\n\r\n  return [headers, ...rows]\r\n    .map(row => row.map(field => `\"${String(field)}\"`).join(','))\r\n    .join('\\n');\r\n};\r\n\r\nexport const exportSetupLogJSON = (entries: ICCSetup[] = getSetupLog()): string => {\r\n  return JSON.stringify(entries, null, 2);\r\n};"],"mappings":"AAEA,MAAMA,WAAW,GAAG,WAAW;AAE/B,MAAMC,UAAU,GAAGA,CAAA,KAAkB;EACnC,MAAMC,GAAG,GAAGC,YAAY,CAACC,OAAO,CAACJ,WAAW,CAAC;EAC7C,OAAOE,GAAG,GAAGG,IAAI,CAACC,KAAK,CAACJ,GAAG,CAAC,GAAG,EAAE;AACnC,CAAC;AAED,MAAMK,UAAU,GAAIC,MAAkB,IAAW;EAC/CL,YAAY,CAACM,OAAO,CAACT,WAAW,EAAEK,IAAI,CAACK,SAAS,CAACF,MAAM,CAAC,CAAC;AAC3D,CAAC;AAED,OAAO,MAAMG,QAAQ,GAAIC,KAAe,IAAW;EACjD,MAAMC,OAAO,GAAGZ,UAAU,CAAC,CAAC;EAC5B,MAAMa,OAAO,GAAG,CAAC,GAAGD,OAAO,EAAED,KAAK,CAAC;EACnCL,UAAU,CAACO,OAAO,CAAC;AACrB,CAAC;AAED,OAAO,MAAMC,WAAW,GAAGA,CAAA,KAAkB;EAC3C,OAAOd,UAAU,CAAC,CAAC;AACrB,CAAC;AAED,OAAO,MAAMe,aAAa,GAAGA,CAAA,KAAY;EACvCb,YAAY,CAACc,UAAU,CAACjB,WAAW,CAAC;AACtC,CAAC;AAED,OAAO,MAAMkB,iBAAiB,GAAGA,CAACC,OAAmB,GAAGJ,WAAW,CAAC,CAAC,KAAa;EAChF,MAAMK,OAAO,GAAG,CACd,QAAQ,EAAC,WAAW,EAAC,UAAU,EAAC,gBAAgB,EAAC,SAAS,EAC1D,WAAW,EAAC,KAAK,EAAC,WAAW,CAC9B;EAED,MAAMC,IAAI,GAAGF,OAAO,CAACG,GAAG,CAACV,KAAK;IAAA,IAAAW,UAAA;IAAA,OAAI,CAChCX,KAAK,CAACY,MAAM,EACZZ,KAAK,CAACa,SAAS,EACfb,KAAK,CAACc,OAAO,CAACC,IAAI,CAAC,GAAG,CAAC,EACvBf,KAAK,CAACgB,cAAc,EACpBhB,KAAK,CAACiB,OAAO,EACbjB,KAAK,CAACkB,SAAS,GAAAP,UAAA,GACfX,KAAK,CAACmB,GAAG,cAAAR,UAAA,cAAAA,UAAA,GAAI,EAAE,EACfX,KAAK,CAACoB,SAAS,CAChB;EAAA,EAAC;EAEF,OAAO,CAACZ,OAAO,EAAE,GAAGC,IAAI,CAAC,CACtBC,GAAG,CAACW,GAAG,IAAIA,GAAG,CAACX,GAAG,CAACY,KAAK,IAAI,IAAIC,MAAM,CAACD,KAAK,CAAC,GAAG,CAAC,CAACP,IAAI,CAAC,GAAG,CAAC,CAAC,CAC5DA,IAAI,CAAC,IAAI,CAAC;AACf,CAAC;AAED,OAAO,MAAMS,kBAAkB,GAAGA,CAACjB,OAAmB,GAAGJ,WAAW,CAAC,CAAC,KAAa;EACjF,OAAOV,IAAI,CAACK,SAAS,CAACS,OAAO,EAAE,IAAI,EAAE,CAAC,CAAC;AACzC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}