{"ast":null,"code":"// src/alerts/setupLogger.js\nimport { generateTags } from './tagGenerator';\nimport { autoScoreSetup } from './scoringEngine';\nconst setupLog = [];\nexport const logSetup = setup => {\n  const timestamp = setup.timestamp || new Date().toISOString();\n  const priceAtTrigger = setup.price || null;\n  const traded = false; // DAS Pro logic can be added here\n\n  const scoring = autoScoreSetup({\n    ...setup,\n    traded,\n    priceAtTrigger\n  });\n  setupLog.push({\n    ...setup,\n    timestamp,\n    priceAtTrigger,\n    traded,\n    ...scoring,\n    tradervueTags: generateTags(setup)\n  });\n};\nexport const getSetupLog = () => setupLog;\nexport const exportSetupLogCSV = () => {\n  const headers = ['timestamp', 'symbol', 'source', 'dashboard', 'iccTags', 'tradervueTags', 'priceAtTrigger', 'traded', 'outcome', 'followThrough', 'maxGain', 'maxLoss', 'capSize', 'timeBlock'];\n  const rows = setupLog.map(setup => headers.map(key => {\n    const value = setup[key];\n    if (Array.isArray(value)) return `\"${value.join(',')}\"`;\n    return `\"${value !== null && value !== undefined ? value : ''}\"`;\n  }).join(','));\n  return [headers.join(','), ...rows].join('\\n');\n};","map":{"version":3,"names":["generateTags","autoScoreSetup","setupLog","logSetup","setup","timestamp","Date","toISOString","priceAtTrigger","price","traded","scoring","push","tradervueTags","getSetupLog","exportSetupLogCSV","headers","rows","map","key","value","Array","isArray","join","undefined"],"sources":["C:/Users/irajc/charting-platform/src/alerts/setupLogger.ts"],"sourcesContent":["// src/alerts/setupLogger.js\r\nimport { generateTags } from './tagGenerator';\r\nimport { autoScoreSetup } from './scoringEngine';\r\n\r\nconst setupLog = [];\r\n\r\nexport const logSetup = (setup) => {\r\n  const timestamp = setup.timestamp || new Date().toISOString();\r\n  const priceAtTrigger = setup.price || null;\r\n\r\n  const traded = false; // DAS Pro logic can be added here\r\n\r\n  const scoring = autoScoreSetup({ ...setup, traded, priceAtTrigger });\r\n\r\n  setupLog.push({\r\n    ...setup,\r\n    timestamp,\r\n    priceAtTrigger,\r\n    traded,\r\n    ...scoring,\r\n    tradervueTags: generateTags(setup),\r\n  });\r\n};\r\n\r\nexport const getSetupLog = () => setupLog;\r\n\r\nexport const exportSetupLogCSV = () => {\r\n  const headers = [\r\n    'timestamp',\r\n    'symbol',\r\n    'source',\r\n    'dashboard',\r\n    'iccTags',\r\n    'tradervueTags',\r\n    'priceAtTrigger',\r\n    'traded',\r\n    'outcome',\r\n    'followThrough',\r\n    'maxGain',\r\n    'maxLoss',\r\n    'capSize',\r\n    'timeBlock',\r\n  ];\r\n\r\n  const rows = setupLog.map((setup) =>\r\n    headers.map((key) => {\r\n      const value = setup[key];\r\n      if (Array.isArray(value)) return `\"${value.join(',')}\"`;\r\n      return `\"${value !== null && value !== undefined ? value : ''}\"`;\r\n    }).join(',')\r\n  );\r\n\r\n  return [headers.join(','), ...rows].join('\\n');\r\n};"],"mappings":"AAAA;AACA,SAASA,YAAY,QAAQ,gBAAgB;AAC7C,SAASC,cAAc,QAAQ,iBAAiB;AAEhD,MAAMC,QAAQ,GAAG,EAAE;AAEnB,OAAO,MAAMC,QAAQ,GAAIC,KAAK,IAAK;EACjC,MAAMC,SAAS,GAAGD,KAAK,CAACC,SAAS,IAAI,IAAIC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC;EAC7D,MAAMC,cAAc,GAAGJ,KAAK,CAACK,KAAK,IAAI,IAAI;EAE1C,MAAMC,MAAM,GAAG,KAAK,CAAC,CAAC;;EAEtB,MAAMC,OAAO,GAAGV,cAAc,CAAC;IAAE,GAAGG,KAAK;IAAEM,MAAM;IAAEF;EAAe,CAAC,CAAC;EAEpEN,QAAQ,CAACU,IAAI,CAAC;IACZ,GAAGR,KAAK;IACRC,SAAS;IACTG,cAAc;IACdE,MAAM;IACN,GAAGC,OAAO;IACVE,aAAa,EAAEb,YAAY,CAACI,KAAK;EACnC,CAAC,CAAC;AACJ,CAAC;AAED,OAAO,MAAMU,WAAW,GAAGA,CAAA,KAAMZ,QAAQ;AAEzC,OAAO,MAAMa,iBAAiB,GAAGA,CAAA,KAAM;EACrC,MAAMC,OAAO,GAAG,CACd,WAAW,EACX,QAAQ,EACR,QAAQ,EACR,WAAW,EACX,SAAS,EACT,eAAe,EACf,gBAAgB,EAChB,QAAQ,EACR,SAAS,EACT,eAAe,EACf,SAAS,EACT,SAAS,EACT,SAAS,EACT,WAAW,CACZ;EAED,MAAMC,IAAI,GAAGf,QAAQ,CAACgB,GAAG,CAAEd,KAAK,IAC9BY,OAAO,CAACE,GAAG,CAAEC,GAAG,IAAK;IACnB,MAAMC,KAAK,GAAGhB,KAAK,CAACe,GAAG,CAAC;IACxB,IAAIE,KAAK,CAACC,OAAO,CAACF,KAAK,CAAC,EAAE,OAAO,IAAIA,KAAK,CAACG,IAAI,CAAC,GAAG,CAAC,GAAG;IACvD,OAAO,IAAIH,KAAK,KAAK,IAAI,IAAIA,KAAK,KAAKI,SAAS,GAAGJ,KAAK,GAAG,EAAE,GAAG;EAClE,CAAC,CAAC,CAACG,IAAI,CAAC,GAAG,CACb,CAAC;EAED,OAAO,CAACP,OAAO,CAACO,IAAI,CAAC,GAAG,CAAC,EAAE,GAAGN,IAAI,CAAC,CAACM,IAAI,CAAC,IAAI,CAAC;AAChD,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}