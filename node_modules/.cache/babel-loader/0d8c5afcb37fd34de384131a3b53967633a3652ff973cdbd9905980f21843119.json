{"ast":null,"code":"let setupLog = [];\nexport const logSetup = setup => {\n  setupLog.push(setup);\n};\nexport const getSetupLog = () => {\n  return setupLog;\n};\nexport const clearSetupLog = () => {\n  setupLog = [];\n};\nexport const exportSetupLogCSV = (entries = setupLog) => {\n  const headers = ['Symbol', 'Timeframe', 'ICC Tags', 'PriceAtTrigger', 'Outcome', 'TimeBlock', 'Bot', 'Dashboard'];\n  const rows = entries.map(setup => {\n    var _setup$bot;\n    return [setup.symbol, setup.timeframe, setup.iccTags.join('|'), setup.priceAtTrigger, setup.outcome, setup.timeBlock, (_setup$bot = setup.bot) !== null && _setup$bot !== void 0 ? _setup$bot : '', setup.dashboard];\n  });\n  return [headers, ...rows].map(row => row.map(field => `\"${String(field)}\"`).join(',')).join('\\n');\n};\nexport const exportSetupLogJSON = (entries = setupLog) => {\n  return JSON.stringify(entries, null, 2);\n};","map":{"version":3,"names":["setupLog","logSetup","setup","push","getSetupLog","clearSetupLog","exportSetupLogCSV","entries","headers","rows","map","_setup$bot","symbol","timeframe","iccTags","join","priceAtTrigger","outcome","timeBlock","bot","dashboard","row","field","String","exportSetupLogJSON","JSON","stringify"],"sources":["C:/Users/irajc/charting-platform/src/alerts/setupLogger.ts"],"sourcesContent":["import type { ICCSetup } from '../types/ICC';\r\n\r\nlet setupLog: ICCSetup[] = [];\r\n\r\nexport const logSetup = (setup: ICCSetup): void => {\r\n  setupLog.push(setup);\r\n};\r\n\r\nexport const getSetupLog = (): ICCSetup[] => {\r\n  return setupLog;\r\n};\r\n\r\nexport const clearSetupLog = (): void => {\r\n  setupLog = [];\r\n};\r\n\r\nexport const exportSetupLogCSV = (entries: ICCSetup[] = setupLog): string => {\r\n  const headers = [\r\n    'Symbol','Timeframe','ICC Tags','PriceAtTrigger','Outcome',\r\n    'TimeBlock','Bot','Dashboard'\r\n  ];\r\n\r\n  const rows = entries.map(setup => [\r\n    setup.symbol,\r\n    setup.timeframe,\r\n    setup.iccTags.join('|'),\r\n    setup.priceAtTrigger,\r\n    setup.outcome,\r\n    setup.timeBlock,\r\n    setup.bot ?? '',\r\n    setup.dashboard,\r\n  ]);\r\n\r\n  return [headers, ...rows]\r\n    .map(row => row.map(field => `\"${String(field)}\"`).join(','))\r\n    .join('\\n');\r\n};\r\n\r\nexport const exportSetupLogJSON = (entries: ICCSetup[] = setupLog): string => {\r\n  return JSON.stringify(entries, null, 2);\r\n};"],"mappings":"AAEA,IAAIA,QAAoB,GAAG,EAAE;AAE7B,OAAO,MAAMC,QAAQ,GAAIC,KAAe,IAAW;EACjDF,QAAQ,CAACG,IAAI,CAACD,KAAK,CAAC;AACtB,CAAC;AAED,OAAO,MAAME,WAAW,GAAGA,CAAA,KAAkB;EAC3C,OAAOJ,QAAQ;AACjB,CAAC;AAED,OAAO,MAAMK,aAAa,GAAGA,CAAA,KAAY;EACvCL,QAAQ,GAAG,EAAE;AACf,CAAC;AAED,OAAO,MAAMM,iBAAiB,GAAGA,CAACC,OAAmB,GAAGP,QAAQ,KAAa;EAC3E,MAAMQ,OAAO,GAAG,CACd,QAAQ,EAAC,WAAW,EAAC,UAAU,EAAC,gBAAgB,EAAC,SAAS,EAC1D,WAAW,EAAC,KAAK,EAAC,WAAW,CAC9B;EAED,MAAMC,IAAI,GAAGF,OAAO,CAACG,GAAG,CAACR,KAAK;IAAA,IAAAS,UAAA;IAAA,OAAI,CAChCT,KAAK,CAACU,MAAM,EACZV,KAAK,CAACW,SAAS,EACfX,KAAK,CAACY,OAAO,CAACC,IAAI,CAAC,GAAG,CAAC,EACvBb,KAAK,CAACc,cAAc,EACpBd,KAAK,CAACe,OAAO,EACbf,KAAK,CAACgB,SAAS,GAAAP,UAAA,GACfT,KAAK,CAACiB,GAAG,cAAAR,UAAA,cAAAA,UAAA,GAAI,EAAE,EACfT,KAAK,CAACkB,SAAS,CAChB;EAAA,EAAC;EAEF,OAAO,CAACZ,OAAO,EAAE,GAAGC,IAAI,CAAC,CACtBC,GAAG,CAACW,GAAG,IAAIA,GAAG,CAACX,GAAG,CAACY,KAAK,IAAI,IAAIC,MAAM,CAACD,KAAK,CAAC,GAAG,CAAC,CAACP,IAAI,CAAC,GAAG,CAAC,CAAC,CAC5DA,IAAI,CAAC,IAAI,CAAC;AACf,CAAC;AAED,OAAO,MAAMS,kBAAkB,GAAGA,CAACjB,OAAmB,GAAGP,QAAQ,KAAa;EAC5E,OAAOyB,IAAI,CAACC,SAAS,CAACnB,OAAO,EAAE,IAAI,EAAE,CAAC,CAAC;AACzC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}